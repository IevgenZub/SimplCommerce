@{
    ViewData["Title"] = "Shopping Cart";
}


<div class="cart-list" ng-app="simpl.shoppingCart" ng-controller="shoppingCartListCtrl as vm" ng-cloak>

    <div class="row">
        <div class="col-md-8">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th colspan="2">@Localizer["Product"]</th>
                        <th class="text-right">@Localizer["Price"]</th>
                        <th class="text-center">@Localizer["Quantity"]</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-if="vm.cart.items.length" ng-repeat="cartItem in vm.cart.items">
                        <td class="product-image"><img ng-src="{{cartItem.productImage}}" /></td>
                        <td>
                            <h4>{{cartItem.productName}}</h4>
                            <ul class="list-unstyled">
                                <li ng-repeat="opt in cartItem.variationOptions">
                                    <span>{{opt.optionName}}:</span> {{opt.value}}
                                </li>
                            </ul>
                        </td>
                        <td class="text-right">{{cartItem.productPriceString}}</td>
                        <td class="text-center">
                            <button type="button" class="quantity-button" ng-click="vm.decreaseQuantity(cartItem)" name="subtract" value="-">-</button>
                            <input type="text" class="quantity-field" ng-model="cartItem.quantity" readonly="readonly" />
                            <button type="button" class="quantity-button" ng-click="vm.increaseQuantity(cartItem)" name="subtract" value="+">+</button>
                        </td>
                        <td class="text-right"><button class="btn btn-link" ng-click="vm.removeShoppingCartItem(cartItem)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button></td>
                    </tr>
                    <tr ng-if="!vm.cart.items.length">
                        <td colspan="5" class="text-center">
                            @Localizer["There are no items in this cart."] <a href="~/">@Localizer["Go to shopping"]</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-4">
            <div class="order-summary" ng-if="vm.cart.items.length">
                <h4>@Localizer["Order summary"]</h4>
                <dl class="dl-horizontal">
                    <dt>@Localizer["Subtotal"]</dt>
                    <dd>{{vm.cart.subTotalString}}</dd>
                    <dt>@Localizer["Discount"] {{vm.cart.couponCode}}</dt>
                    <dd>{{vm.cart.discountString}}</dd>
                    <dt>@Localizer["Order Total"]</dt>
                    <dd><strong>{{vm.cart.orderTotalString}}</strong></dd>
                </dl>
                <p class="text-right"><a href="~/checkout/shipping" class="btn btn-primary">@Localizer["Process to Checkout"]</a></p>
            </div>
            <div class="coupon-form" ng-if="vm.cart.items.length">
                <h4>@Localizer["Coupon code"]</h4>
                <form class="form-inline">
                    <div class="form-group">
                        <label>{{vm.couponErrorMessage}}</label>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" name="couponCode" ng-model="vm.couponCode" placeholder="Enter coupon">
                        <button type="submit" class="btn btn-default" ng-click="vm.applyCoupon()">Apply</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-md-12">
            <h4>Passengers Information:</h4>
        </div>
    </div>

    <div class="row" ng-repeat="passenger in vm.passengers">
        <div class="col-md-12">
            <form>
            <div class="col-lg-2 col-md-4">
                <div class="form-group">
                    <label>Sex:</label>
                    <div>
                        <label class="radio-inline" style="font-size:16px;">
                              <input type="radio" name="sex" value="Male" ng-model="passenger.sex">Male
                        </label>
                        <label class="radio-inline" style="font-size:16px;">
                              <input type="radio" name="Female" ng-model="passenger.sex">Female
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="form-group">
                    <label for="firstName">First name:</label>
                    <input type="text" class="form-control" id="firstName" name="FirstName" ng-model="passenger.firstName">
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="form-group">
                    <label for="lastName">Last name:</label>
                    <input type="text" class="form-control" id="lastName" name="LastName" ng-model="passenger.lastName">
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="form-group">
                    <label for="birth">Date of birth:</label>
                    <input type="date" class="form-control" id="birth" name="DateOfBirth" ng-model="passenger.dateOfBirth">
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="form-group">
                    <label for="document">Document no.:</label>
                    <input type="text" class="form-control" id="document" name="DocumentNo" ng-model="passenger.documentNo">
                </div>
            </div>
            <div class="col-lg-2 col-md-4">
                <div class="form-group">
                    <label for="expiry">Date of expiry:</label>
                    <input type="date" class="form-control" id="expiry" name="DateOfExpiry" ng-model="passenger.dateOfExpiry">
                </div>
            </div>


            </form>
        </div>
    </div>



    </div>
</div>

@section head{
    <script simpl-append-version="true" src="~/lib/angular/angular.js"></script>
    <script simpl-append-version="true" src="~/modules/shopping-cart/shoppingcart-list.js"></script>
    <script simpl-append-version="true" src="~/modules/shopping-cart/shoppingcart-service.js"></script>
}
