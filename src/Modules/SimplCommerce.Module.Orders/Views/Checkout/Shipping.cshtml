@using SimplCommerce.Module.Core.ViewModels

@model SimplCommerce.Module.Orders.ViewModels.DeliveryInformationVm

@{
    ViewBag.Title = "Shipping Information";
}

<div class="row">
    <div class="col-md-8">
        <form asp-controller="Checkout" asp-action="Shipping" method="POST" id="checkout-delivery-address" class="form-horizontal">
            <h3>Passanger Registration Info</h3>
            <div class="row">
                <div class="col-sm-2">First Name </div>
                <div class="col-sm-2">Last Name</div>
                <div class="col-sm-2">Document no.:</div>
                <div class="col-sm-2">Expiration</div>
                <div class="col-sm-2">Bith Date</div>
                <div class="col-sm-2">Sex</div>
            </div>
            <div class="address-container">
                @foreach (var address in Model.ExistingShippingAddresses)
                {
                    <div class="row">
                        <div class="col-sm-2">
                            <input type="hidden" asp-for="ExistingShippingAddresses[Model.ExistingShippingAddresses.IndexOf(address)].UserAddressId">
                            <input type="checkbox" asp-for="ExistingShippingAddresses[Model.ExistingShippingAddresses.IndexOf(address)].Selected">
                            @address.ContactName
                        </div>
                        <div class="col-sm-2">@address.AddressLine1</div>
                        <div class="col-sm-2">@address.AddressLine2</div>
                        <div class="col-sm-2">@address.CityName</div>
                        <div class="col-sm-2">@address.PostalCode</div>
                        <div class="col-sm-2">@address.Phone</div>
                    </div>
                }
            </div>
            <h3>@Localizer["Shipping methods"]</h3>
            <div id="shippingMethods">
                <p>Please choose your shipping address</p>
            </div>
            <div class="form-group">
                <div class="col-md-12 text-right">
                    <button type="submit" class="btn btn-order" disabled>@Localizer["Continue"]</button>
                </div>
            </div>
        </form>
        <div class="radio">
            <label>
                <input type="radio" name="shippingAddressId" checked="@(Model.ShippingAddressId == 0 ? "checked" : null)" value="0" />
                @Localizer["Add another address"]
            </label>
        </div>

        <div class="create-shipping-address collapse">
            <form action="add-address" method="POST" class="add-address-form form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label">First Name</label>
                    <div class="col-sm-10">
                        <input name="firstName" type="text" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Last Name</label>
                    <div class="col-sm-10">
                        <input name="lastName" type="text" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Birth Date</label>
                    <div class="col-sm-10">
                        <input name="birthDate" type="text" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Document No.</label>
                    <div class="col-sm-10">
                        <input name="documentNumber" type="text" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Document Expiration</label>
                    <div class="col-sm-10">
                        <input name="documentExpiration" type="text" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">Sex</label>
                    <div class="col-sm-10">
                        <input name="sex" type="text" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <button type="submit" class="btn btn-primary">@Localizer["Save"]</button>
                    </div>
                </div>
            </form>    
        </div>
    </div>
    <div class="col-md-4">
        @await Component.InvokeAsync("OrderSummary")
    </div>
</div>

@section scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
    <script simpl-append-version="true" src="~/modules/orders/checkout.js"></script>
}